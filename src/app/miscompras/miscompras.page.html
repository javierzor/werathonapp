<!-- empieza el menu superior izquierdo -->
<ion-header color="light" class="ion-no-border" [translucent]="true">
    <ion-toolbar color="light">
      
      <ion-buttons *ngIf="informacion_perfil!=null&&informacion_perfil!=undefined" slot="end">
        <ion-button (click)="ONCHANGEmenuderechosuperior()" >
          <ion-avatar style="width:90%; height:90%;">
            <!-- <img src="assets/avatarassetsimage.png"> -->
            <img [src]="informacion_perfil.profile_url_img==undefined || informacion_perfil.profile_url_img==null || informacion_perfil.profile_url_img=='' ? 'assets/avatarassetsimage.png' : informacion_perfil.profile_url_img"/>
          </ion-avatar>
        </ion-button>
        <ion-button style="text-transform:none" (click)="ONCHANGEmenuderechosuperior()"><ion-text  style="margin-left: -8px;">{{this.informacion_perfil.email}}</ion-text><ion-icon name="ellipsis-vertical"></ion-icon></ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  
  <ion-content color="light" (click)="ONCHANGEclickenelcontent()" [fullscreen]="true">
  
    <ion-card *ngIf="menuderechosuperior==true" style="position:sticky; float: right; width: fit-content; top:0%; z-index: 9999;">
      <ion-card-header>
        <ion-card-title>Mi Cuenta</ion-card-title>
        <ion-card-subtitle>Menu de Usuario</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
            <ion-list>
            <ion-item>
            <ion-label (click)="iramiperfilDelMenuDerechoSuperior()" style="cursor: pointer;">Mi perfil</ion-label>
            </ion-item>
            <ion-item>
            <ion-label style="cursor: pointer;">Mi Cuenta</ion-label>
            </ion-item>
            <ion-item (click)="logout()" style="cursor: pointer;">
            <ion-label>Salir</ion-label>
            </ion-item>
            </ion-list>
      </ion-card-content>
    </ion-card>
<!-- termina el menu superior izquierdo -->

<!-- empiea direcciones de retiro -->


  <ion-card>
    <ion-card-header>
      <ion-card-title color="primary">&nbsp;&nbsp;Mis Compras.&nbsp;&nbsp;</ion-card-title>
    </ion-card-header>
  </ion-card>

      <ion-row>
        <ion-col>

        </ion-col>
        <ion-col>

        </ion-col>
        <ion-col>

        </ion-col>
        <ion-col offset="3">
          <ion-button *ngIf="movimientospendientes&&movimientospendientes.length<2" (click)="presentModal()" fill="outline"><ion-icon name="add"></ion-icon>Agregar</ion-button>
          <ion-button disabled *ngIf="movimientospendientes&&movimientospendientes.length>1" fill="outline"><ion-icon name="add"></ion-icon>Agregar</ion-button>
          <ion-text style="font-size:10px;" *ngIf="movimientospendientes&&movimientospendientes.length>1">Ya tiene 2 Compras pendientes</ion-text>

        </ion-col>
      </ion-row>


      



  <ion-card >

    <ion-card-content>

        <ion-row class="ion-align-items-center">
          <ion-col style="text-align: center;" size="12" class="ion-text-center">
            <ion-text>Lista de Compras.</ion-text>
          </ion-col>
        </ion-row>
      
        <ion-row class="ion-align-items-center">
          <ion-col size="4" class="ion-text-center">
            <ion-text color="primary" >Tipo</ion-text>
        
          </ion-col>
          <ion-col size="3" class="ion-text-center">
            <ion-text color="primary" >fecha</ion-text>
          </ion-col>
          <ion-col size="2.5" class="ion-text-center">
            <ion-text color="primary" >Monto</ion-text>
          </ion-col>
          <ion-col size="2.5" class="ion-text-center">
            <ion-text color="primary" >Estado</ion-text>
          </ion-col>
          </ion-row>
      
    </ion-card-content>
</ion-card>

<ion-card *ngFor="let cadamovimiento of movimientos">
  <ion-row class="ion-align-items-center">
    <ion-col size="4" class="ion-text-center">
      <ion-text *ngIf="cadamovimiento.detalles" color="primary"><strong>Por:&nbsp;</strong>{{cadamovimiento.detalles.nombre_movimiento}}<br><strong style="font-size: small;">Detalles:&nbsp;</strong><a style="font-size: small;">{{cadamovimiento.detalles.descripcion_movimiento}}</a></ion-text>
    </ion-col>
    <ion-col size="3" class="ion-text-center">
      <ion-text style="font-size: small;" color="primary" >{{cadamovimiento.fecha | date: 'dd/MM/yyyy':'GMT-3' }}<br>{{cadamovimiento.fecha | date: 'hh:mm:ss':'GMT-3' }}</ion-text>
    </ion-col>
    <ion-col size="2.5" class="ion-text-center">
      <ion-text color="primary" >
        <a color="success" style="color:green" *ngIf="cadamovimiento.mas_o_menos=='mas'"><strong>+</strong></a>
        <a color="danger" style="color:red" *ngIf="cadamovimiento.mas_o_menos=='menos'"><strong>-</strong></a>
        {{cadamovimiento.monto}}&nbsp;<strong>Weras</strong></ion-text>
    </ion-col>
    <ion-col size="2.5" class="ion-text-center">
                <span *ngIf="cadamovimiento.status=='pendiente'" style="margin-left: -20px;" class="v2-badge v2-badge-pendiente"><a style="vertical-align: inherit; color:orange;">Pendiente</a></span>
                <span *ngIf="cadamovimiento.status=='verificado'" style="margin-left: -20px;" class="v2-badge v2-badge-aceptado"><a style="vertical-align: inherit; color:#1ea672;">Verificado</a></span>
    </ion-col>
    </ion-row>
    <ion-row>
        <ion-col>
          
            <ion-buttons> <strong>Recibo:&nbsp;</strong> 
              <ion-button (click)="VerImagen(cadamovimiento.reciboImgUrl)">Ver
                <ion-icon color="primary" name="eye-outline"></ion-icon> 
              </ion-button>
              <ion-button>Subir
                <ion-icon color="primary" name="cloud-upload-outline"></ion-icon>
              </ion-button>
            </ion-buttons> 
        </ion-col>
    </ion-row>
</ion-card>



</ion-content>